:root{
  --bg0:#07090c;
  --bg1:#0b1016;
  --panel:#0f1620;
  --panel2:#111b27;
  --stroke:rgba(255,255,255,.08);
  --stroke2:rgba(255,255,255,.12);
  --text:#f5f7fb;
  --muted:rgba(245,247,251,.72);
  --muted2:rgba(245,247,251,.55);
  --accent:#68FE1D; /* Hyper Lime */
  --accentSoft:rgba(104,254,29,.14);
  --cyan:#00F7D5;
  --danger:#FF5F5F;
  --warn:#ffcf5a;
  --ok:#3cff83;
  --shadow: 0 18px 60px rgba(0,0,0,.55);
  --shadow2: 0 8px 24px rgba(0,0,0,.45);
  --r12:12px;
  --r16:16px;
  --r20:20px;
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:var(--font);
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 18% 10%, rgba(104,254,29,.10), transparent 62%),
    radial-gradient(900px 700px at 80% 18%, rgba(0,247,213,.07), transparent 60%),
    radial-gradient(800px 700px at 50% 120%, rgba(61,44,141,.08), transparent 60%),
    linear-gradient(180deg, var(--bg0), var(--bg1));
}

a{ color:inherit; text-decoration:none; }
.wrap{ max-width:1180px; margin:0 auto; padding: 20px 18px 60px; }

/* Topbar */
.topbar{
  position:sticky; top:0; z-index:20;
  background: rgba(7,9,12,.72);
  border-bottom:1px solid rgba(255,255,255,.06);
  backdrop-filter: blur(12px);
}
.topbar-inner{
  max-width:1180px; margin:0 auto;
  padding: 14px 18px;
  display:flex; align-items:center; gap:16px;
}
.brand{
  display:flex; align-items:center; gap:10px;
  font-weight:850; letter-spacing:.2px;
}
.mark{
  width:34px; height:34px; border-radius: 12px;
  background: linear-gradient(180deg, rgba(104,254,29,.22), rgba(104,254,29,.08));
  border:1px solid rgba(104,254,29,.28);
  box-shadow: 0 0 0 4px rgba(104,254,29,.06), var(--shadow2);
  display:grid; place-items:center;
}
.mark i{
  width:14px; height:14px; border-radius:6px;
  background: var(--accent);
  box-shadow: 0 0 22px rgba(104,254,29,.35);
  display:block;
}

.nav{
  display:flex; gap:8px; flex-wrap:wrap;
  color:var(--muted2);
  font-size:13px;
  margin-left: 8px;
}
.nav a{
  padding: 8px 10px;
  border-radius: 999px;
  border:1px solid transparent;
  transition: all .15s ease;
}
.nav a:hover{
  color:var(--text);
  background: rgba(255,255,255,.04);
  border-color: rgba(255,255,255,.07);
}
.nav a.active{
  color:var(--text);
  background: rgba(255,255,255,.03);
  border-color: rgba(104,254,29,.20);
  box-shadow: 0 0 0 4px rgba(104,254,29,.05) inset;
}
.right{
  margin-left:auto;
  display:flex; align-items:center; gap:10px;
  color:var(--muted);
  font-size:13px;
}
.pill{
  padding: 7px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  white-space: nowrap;
}
.pill.accent{
  border-color: rgba(104,254,29,.28);
  background: rgba(104,254,29,.10);
  color: var(--text);
}

/* Layout blocks */
.grid-header{
  margin-top: 18px;
  display:grid;
  grid-template-columns: 1.5fr 1fr;
  gap:14px;
}

.card{
  border-radius: var(--r20);
  border:1px solid rgba(255,255,255,.07);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  box-shadow: var(--shadow);
  overflow:hidden;
}
.card-inner{ padding: 18px; }

.h-title{
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
}
.dot{
  width:9px; height:9px; border-radius: 99px;
  background: var(--accent);
  box-shadow: 0 0 18px rgba(104,254,29,.35);
  display:inline-block;
}
h1{ margin:0; font-size: 24px; letter-spacing:.2px; }
.sub{
  margin-top: 10px;
  color: var(--muted);
  line-height: 1.5;
  font-size: 13.5px;
  max-width: 70ch;
}

.actions{
  margin-top: 14px;
  display:flex; gap:10px; flex-wrap:wrap;
}

.btn{
  appearance:none;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.03);
  color: var(--text);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 780;
  font-size: 13px;
  cursor:pointer;
  display:inline-flex; align-items:center; gap:8px;
  transition: all .15s ease;
  box-shadow: 0 0 0 0 rgba(104,254,29,0);
}
.btn:hover{
  background: rgba(255,255,255,.05);
  border-color: rgba(255,255,255,.18);
  transform: translateY(-1px);
}
.btn:active{ transform: translateY(0px); }
.btn.primary{
  border-color: rgba(104,254,29,.30);
  background: rgba(104,254,29,.12);
  box-shadow: 0 0 0 4px rgba(104,254,29,.06);
}
.btn.primary:hover{
  background: rgba(104,254,29,.16);
  border-color: rgba(104,254,29,.45);
}
.btn.danger{
  border-color: rgba(255,95,95,.25);
  background: rgba(255,95,95,.08);
}
.btn.danger:hover{ border-color: rgba(255,95,95,.38); background: rgba(255,95,95,.10); }
.btn.ghost{
  background: transparent;
  border-color: rgba(255,255,255,.10);
}
.btn.small{ padding: 8px 10px; font-size: 12px; }

.stats{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  padding: 16px;
}
.stat{
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.24);
  padding: 12px;
}
.stat .k{ color: var(--muted2); font-size: 12px; }
.stat .v{ margin-top: 6px; font-weight: 900; font-size: 18px; letter-spacing:.2px; }
.stat .h{ margin-top: 3px; color: var(--muted2); font-size: 11.5px; }

/* Tabs */
.tabs{
  margin-top: 14px;
  display:flex; gap:8px; flex-wrap:wrap;
  align-items:center;
  border-bottom:1px solid rgba(255,255,255,.06);
  padding-bottom: 12px;
}
.tab{
  border: 1px solid transparent;
  background: transparent;
  color: var(--muted2);
  padding: 9px 12px;
  border-radius: 999px;
  font-weight: 850;
  font-size: 13px;
  cursor:pointer;
  transition: all .15s ease;
}
.tab:hover{ color: var(--text); background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.08); }
.tab.active{
  color: var(--text);
  background: rgba(255,255,255,.03);
  border-color: rgba(104,254,29,.22);
  box-shadow: 0 0 0 4px rgba(104,254,29,.05) inset;
}

/* Filters */
.filters{
  margin-top: 12px;
  display:grid;
  grid-template-columns: 1.4fr 1fr 1fr 1fr auto;
  gap:10px;
  align-items:center;
}
.field{
  display:flex; align-items:center; gap:10px;
  padding: 10px 12px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.20);
}
.field label{
  color: var(--muted2);
  font-size: 12px;
  min-width: 56px;
}
input, select, textarea{
  width:100%;
  background: transparent;
  border:none;
  outline:none;
  color: var(--text);
  font-size: 13px;
  font-weight: 700;
}
select option{ color:#111; }

/* Table */
.table-card{ margin-top: 12px; }
.table-head{
  padding: 14px 16px;
  display:flex; align-items:center; justify-content: space-between;
  background: rgba(0,0,0,.20);
  border-bottom:1px solid rgba(255,255,255,.06);
}
.table-head h2{ margin:0; font-size: 13.5px; letter-spacing:.2px; }
.table-head .muted{ color: var(--muted2); font-size: 12px; }

.table-wrap{ max-height: 420px; overflow:auto; }
table{ width:100%; border-collapse: collapse; font-size: 13px; }
thead th{
  position: sticky; top: 0;
  background: rgba(15,22,32,.95);
  backdrop-filter: blur(10px);
  color: var(--muted2);
  text-align:left;
  font-weight: 850;
  letter-spacing:.2px;
  font-size: 11.5px;
  padding: 10px 12px;
  border-bottom:1px solid rgba(255,255,255,.06);
  z-index:2;
  white-space: nowrap;
}
tbody td{
  padding: 11px 12px;
  border-bottom:1px solid rgba(255,255,255,.06);
  color: rgba(245,247,251,.86);
  white-space: nowrap;
  vertical-align: middle;
}
tbody tr{
  cursor: pointer;
  transition: background .12s ease;
}
tbody tr:hover{ background: rgba(255,255,255,.03); }
.mono{ font-family: var(--mono); font-size: 12px; color: rgba(245,247,251,.78); }
.rightAlign{ text-align:right; font-variant-numeric: tabular-nums; }

.badge{
  display:inline-flex; align-items:center; gap:8px;
  padding: 6px 10px;
  border-radius: 999px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  font-weight: 900;
  font-size: 11.5px;
  letter-spacing:.2px;
}
.b-ok{ border-color: rgba(60,255,131,.22); background: rgba(60,255,131,.08); }
.b-stop{ border-color: rgba(255,95,95,.20); background: rgba(255,95,95,.08); }
.b-warn{ border-color: rgba(255,207,90,.20); background: rgba(255,207,90,.08); }
.dot-ok{ width:8px; height:8px; border-radius: 99px; background: var(--ok); box-shadow: 0 0 14px rgba(60,255,131,.28); }
.dot-stop{ width:8px; height:8px; border-radius: 99px; background: var(--danger); box-shadow: 0 0 14px rgba(255,95,95,.25); }
.dot-warn{ width:8px; height:8px; border-radius: 99px; background: var(--warn); box-shadow: 0 0 14px rgba(255,207,90,.22); }

.row-actions{ display:flex; gap:8px; justify-content: flex-end; }
.btnchip{
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.02);
  color: rgba(245,247,251,.92);
  border-radius: 999px;
  padding: 7px 10px;
  font-size: 12px;
  font-weight: 850;
  cursor:pointer;
  transition: all .12s ease;
}
.btnchip:hover{ background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.16); }
.btnchip.danger{ border-color: rgba(255,95,95,.22); background: rgba(255,95,95,.08); }
.btnchip.ok{ border-color: rgba(104,254,29,.22); background: rgba(104,254,29,.10); }

/* Panels */
.panel{ display:none; }
.panel.active{ display:block; }

/* Modal */
.overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.60);
  backdrop-filter: blur(10px);
  display:none;
  z-index: 100;
  padding: 18px;
}
.overlay.show{ display:grid; place-items:center; }

/* Layering so nested modals (opened from wizard) stay on top */
#mWizard.overlay{ z-index: 110; }
#mExchange.overlay{ z-index: 120; }
#mAutoDetail.overlay{ z-index: 120; }
#mPlan.overlay{ z-index: 130; }
#mMore.overlay{ z-index: 130; }
#mPlanPairs.overlay{ z-index: 140; }

.modal{
  width: min(980px, 96vw);
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.10);
  background: linear-gradient(180deg, rgba(17,27,39,.98), rgba(14,20,30,.98));
  box-shadow: 0 22px 80px rgba(0,0,0,.70);
  overflow:hidden;
  position: relative;
}
.modal.sm{ width: min(720px, 96vw); }
.modal.xs{ width: min(560px, 96vw); }
.modal-h{
  padding: 16px 18px;
  display:flex; align-items:center; justify-content: space-between;
  border-bottom: 1px solid rgba(255,255,255,.06);
  background: rgba(0,0,0,.18);
}
.modal-h .t{
  display:flex; align-items:center; gap:10px;
  font-weight: 950;
  letter-spacing:.2px;
}
.modal-h .x{
  width: 36px; height: 36px;
  border-radius: 12px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: rgba(245,247,251,.86);
  cursor:pointer;
}
.modal-h .x:hover{ background: rgba(255,255,255,.05); border-color: rgba(255,255,255,.16); }
.modal-b{ padding: 18px; }
.modal-f{
  padding: 14px 18px;
  display:flex; gap:10px; justify-content:flex-end; flex-wrap:wrap;
  border-top: 1px solid rgba(255,255,255,.06);
  background: rgba(0,0,0,.14);
}

/* Wizard */
.stepper{
  display:flex; gap:8px; flex-wrap:wrap;
  margin-bottom: 14px;
  color: var(--muted2);
  font-size: 12px;
}
.step{
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.03);
  display:flex; align-items:center; gap:8px;
}
.step strong{ color: var(--text); }
.step.active{
  border-color: rgba(104,254,29,.22);
  box-shadow: 0 0 0 4px rgba(104,254,29,.05) inset;
  color: var(--text);
}

.section-title{
  font-weight: 950;
  letter-spacing:.2px;
  margin: 0 0 6px 0;
  font-size: 14px;
}
.help{
  color: var(--muted2);
  font-size: 12.5px;
  line-height: 1.5;
  margin: 0 0 12px 0;
}

.seg{
  display:flex; gap:10px; flex-wrap:wrap;
}
.seg button{
  flex: 0 0 auto;
}

.cards{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px;
}
.choice{
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.16);
  padding: 12px;
  cursor:pointer;
  transition: all .12s ease;
  min-height: 82px;
}
.choice:hover{ background: rgba(255,255,255,.03); border-color: rgba(255,255,255,.16); transform: translateY(-1px); }
.choice.active{
  border-color: rgba(104,254,29,.22);
  box-shadow: 0 0 0 4px rgba(104,254,29,.05) inset;
}
.choice .name{
  font-weight: 950;
  font-size: 13px;
  display:flex; align-items:center; gap:8px;
}
.choice .meta{
  margin-top: 6px;
  color: var(--muted2);
  font-size: 12px;
  line-height: 1.35;
}
.tag{
  display:inline-flex; align-items:center;
  padding: 4px 8px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 900;
  letter-spacing:.2px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: rgba(245,247,251,.88);
}
.tag.ac{ border-color: rgba(104,254,29,.22); background: rgba(104,254,29,.10); }
.tag.cy{ border-color: rgba(0,247,213,.22); background: rgba(0,247,213,.09); }
.tag.dim{ opacity:.85; }

.formgrid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
.fg{ padding: 12px; border-radius: 16px; border: 1px solid rgba(255,255,255,.10); background: rgba(0,0,0,.16); }
.fg .lbl{ color: var(--muted2); font-size: 12px; margin-bottom: 6px; display:flex; align-items:center; gap:8px; }
.fg input, .fg select, .fg textarea{ padding: 10px 10px; border-radius: 12px; border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.02); }
.fg input:focus, .fg select:focus, .fg textarea:focus{ border-color: rgba(104,254,29,.22); box-shadow: 0 0 0 4px rgba(104,254,29,.05); }

.pairlist{ display:grid; gap: 10px; }
.pairrow{
  display:grid;
  grid-template-columns: 1.2fr 1fr 1fr 1fr auto;
  gap: 10px;
  align-items: center;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.16);
}
.iconbtn{
  width: 36px; height: 36px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: rgba(245,247,251,.85);
  cursor:pointer;
}
.iconbtn:hover{ background: rgba(255,255,255,.05); border-color: rgba(255,255,255,.16); }
.iconbtn.danger{ border-color: rgba(255,95,95,.22); background: rgba(255,95,95,.08); }

.hintbar{
  margin-top: 10px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.16);
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.45;
}
.hintbar b{ color: var(--text); }
.kbd{
  font-family: var(--mono);
  font-size: 12px;
  padding: 2px 6px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: rgba(245,247,251,.86);
}

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: 22px;
  transform: translateX(-50%);
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(7,9,12,.78);
  backdrop-filter: blur(12px);
  color: rgba(245,247,251,.92);
  font-size: 13px;
  box-shadow: var(--shadow2);
  z-index: 999;
  display:none;
  max-width: min(680px, 92vw);
}

/* Responsive */
@media (max-width: 980px){
  .grid-header{ grid-template-columns: 1fr; }
  .filters{ grid-template-columns: 1fr 1fr; }
  .nav{ display:none; }
  .cards{ grid-template-columns: 1fr; }
  .pairrow{ grid-template-columns: 1fr; }
  .formgrid{ grid-template-columns: 1fr; }
  thead{ display:none; }
  table, tbody, tr, td{ display:block; width:100%; }
  tbody tr{ padding: 10px 12px; }
  tbody td{ border-bottom:none; padding: 6px 0; white-space: normal; }
  tbody td::before{
    content: attr(data-label);
    display:block;
    color: var(--muted2);
    font-size: 11px;
    margin-bottom: 2px;
    letter-spacing:.2px;
    font-weight: 850;
  }
  .row-actions{ justify-content:flex-start; }
}
@media (max-width: 520px){
  .right{ display:none; }
  h1{ font-size: 22px; }
}

/* Option B Trading Plan modal (scoped, lightweight) */
#mPlan{
  --bg: #07090c;
  --panel: #0f141c;
  --panel2: #0c1118;
  --stroke: rgba(255,255,255,.10);
  --stroke2: rgba(255,255,255,.14);
  --text: rgba(255,255,255,.92);
  --muted: rgba(255,255,255,.62);
  --muted2: rgba(255,255,255,.46);
  --lime: var(--accent);
  --lime2: var(--accent2);
  --danger: var(--danger);
  --shadow: 0 30px 90px rgba(0,0,0,.65);
  --radius: 18px;
  --radius2: 14px;
  --ring: 0 0 0 3px rgba(104,254,29,.16);
}

/* Modal */
#mPlan{
      position:fixed;inset:0;
      background: rgba(0,0,0,.60);
      backdrop-filter: blur(7px);
      -webkit-backdrop-filter: blur(7px);
      display:none;
      align-items:center;justify-content:center;
      padding:22px 14px;
      z-index:50;
    }
#mPlan[data-open="true"]{display:flex}
#mPlan .modal {
      width:min(860px, 100%);
      border-radius:22px;
      background:
        radial-gradient(680px 320px at 20% 0%, rgba(104,254,29,.12), transparent 55%),
        radial-gradient(520px 300px at 85% 10%, rgba(0,247,213,.08), transparent 55%),
        linear-gradient(180deg, rgba(16,21,30,.96), rgba(10,13,19,.92));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
      transform: translateY(6px);
      opacity:0;
      animation: modalIn .18s ease forwards;
    }
    @keyframes modalIn{to{transform:translateY(0);opacity:1}}
#mPlan .modal-header {
      padding:18px 18px 12px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      border-bottom:1px solid rgba(255,255,255,.08);
    }
#mPlan .mh-left {display:flex;align-items:center;gap:10px}
#mPlan .dot {
      width:9px;height:9px;border-radius:99px;background: var(--lime);
      box-shadow: 0 0 0 4px rgba(104,254,29,.10);
    }
#mPlan .modal-title {
      margin:0;font-size:16px;letter-spacing:.2px
    }
#mPlan .iconbtn {
      width:38px;height:38px;border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      display:grid;place-items:center;
      cursor:pointer;
      transition: background .15s ease, border-color .15s ease, transform .15s ease;
    }
#mPlan .iconbtn:hover {background: rgba(255,255,255,.06);border-color: rgba(255,255,255,.22);transform: translateY(-1px)}
#mPlan .iconbtn:active {transform: translateY(0)}
#mPlan .modal-body {
      padding:16px 18px 18px;
    }
#mPlan .subhead {
      margin:0;
      font-size:18px;
      letter-spacing:.2px;
    }
#mPlan .subdesc {
      margin:6px 0 14px;
      color:var(--muted);
      font-size:13px;
      line-height:1.45;
    }
#mPlan .grid {
      display:grid;
      grid-template-columns: 1.35fr 1fr 1fr;
      gap:12px;
    }
#mPlan .field {display:flex;flex-direction:column;gap:7px}
#mPlan label {
      font-size:12px;
      color:rgba(233,238,247,.70);
      font-weight:700;
      letter-spacing:.2px;
    }
#mPlan .input, #mPlan .select {
      height:44px;
      padding:0 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      color:var(--text);
      outline:none;
      transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
    }
#mPlan .input::placeholder {color:rgba(233,238,247,.40)}
#mPlan .input:focus, #mPlan .select:focus {box-shadow: var(--ring);border-color: rgba(104,254,29,.45);background: rgba(0,0,0,.32)}
#mPlan .row {
      display:flex;gap:12px;align-items:flex-end;
      margin-top:12px;
    }
#mPlan .pairbar {
      flex:1;
      display:flex;align-items:center;gap:10px;
      padding:10px 10px 10px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.22);
      min-height:52px;
      overflow:hidden;
    }
#mPlan .pairbar:focus-within {box-shadow: var(--ring);border-color: rgba(104,254,29,.45);background: rgba(0,0,0,.30)}
#mPlan .searchIcon {
      width:18px;height:18px;opacity:.75;flex:0 0 auto
    }
#mPlan .pairSearch {
      border:0;outline:none;background:transparent;color:var(--text);
      font-size:13px;flex:1;min-width:120px;
    }
#mPlan .chip {
      display:inline-flex;align-items:center;gap:8px;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
      font-size:12px;
      color:rgba(233,238,247,.85);
      white-space:nowrap;
      flex:0 0 auto;
    }
#mPlan .chip:before {
      content:"";
      width:7px;height:7px;border-radius:99px;background: var(--lime);
      box-shadow: 0 0 0 3px rgba(104,254,29,.10);
      opacity:.9;
    }
#mPlan .chip button {
      width:18px;height:18px;border-radius:6px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      color:rgba(233,238,247,.85);
      cursor:pointer;
      display:grid;place-items:center;
      padding:0;
      transition: background .15s ease, transform .15s ease, border-color .15s ease;
    }
#mPlan .chip button:hover {background: rgba(255,255,255,.06);border-color: rgba(255,255,255,.22);transform: translateY(-1px)}
#mPlan .chip button:active {transform: translateY(0)}
#mPlan .tip {
      margin:10px 0 0;
      color:var(--muted2);
      font-size:12px;
      line-height:1.45;
    }
#mPlan .modal-footer {
      padding:14px 18px 16px;
      border-top:1px solid rgba(255,255,255,.08);
      display:flex;align-items:center;justify-content:space-between;gap:12px;
    }
#mPlan .footer-right {display:flex;gap:10px;align-items:center}
#mPlan .btn-danger {
      border-color: rgba(255,95,95,.45);
      background: rgba(255,95,95,.10);
    }
#mPlan .btn-danger:hover {border-color: rgba(255,95,95,.65)}
#mPlan .btn[disabled] {
      opacity:.55;
      cursor:not-allowed;
      transform:none !important;
      box-shadow:none !important;
    }

    /* Browse pairs sheet (inside modal) */
#mPlan .sheet {
      position:absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(16,21,30,.98), rgba(9,12,18,.96));
      display:none;
      padding:18px;
    }
#mPlan .sheet[data-open="true"] {display:block}
#mPlan .sheetHeader {
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      margin-bottom:14px;
    }
#mPlan .sheetHeader h3 {margin:0;font-size:15px;letter-spacing:.2px}
#mPlan .sheetHeader p {margin:4px 0 0;color:var(--muted);font-size:12px}
#mPlan .sheetTools {
      display:flex;gap:10px;align-items:center;flex-wrap:wrap;
      margin-bottom:12px;
    }
#mPlan .sheetSearch {
      flex:1;min-width:220px;
      display:flex;align-items:center;gap:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
    }
#mPlan .sheetSearch input {
      border:0;outline:0;background:transparent;color:var(--text);
      width:100%;
      font-size:13px;
    }
#mPlan .pill {
      padding:9px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
      color:rgba(233,238,247,.88);
      font-weight:700;
      font-size:12px;
      cursor:pointer;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
      user-select:none;
    }
#mPlan .pill:hover {transform: translateY(-1px);border-color: rgba(255,255,255,.22);background: rgba(255,255,255,.06)}
#mPlan .pill:active {transform: translateY(0)}
#mPlan .pairList {
      border:1px solid rgba(255,255,255,.10);
      border-radius:18px;
      background: rgba(0,0,0,.20);
      overflow:hidden;
    }
#mPlan .pairListHeader {
      padding:10px 12px;
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      border-bottom:1px solid rgba(255,255,255,.08);
      color:var(--muted);
      font-size:12px;
    }
#mPlan .pairItems {
      max-height: 360px;
      overflow:auto;
    }
#mPlan .pairItem {
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      padding:12px 12px;
      border-top:1px solid rgba(255,255,255,.06);
      transition: background .12s ease;
    }
#mPlan .pairItem:first-child {border-top:0}
#mPlan .pairItem:hover {background: rgba(255,255,255,.03)}
#mPlan .pairLeft {display:flex;align-items:center;gap:10px}
#mPlan .pairCode {
      font-family:var(--mono);
      font-size:12px;
      letter-spacing:.2px;
      padding:6px 10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
    }
#mPlan .pairMeta {font-size:12px;color:var(--muted)}
#mPlan .check {
      width:18px;height:18px;
      accent-color: var(--lime);
      cursor:pointer;
    }
#mPlan .sheetFooter {
      display:flex;align-items:center;justify-content:space-between;gap:12px;
      margin-top:12px;
    }
#mPlan .sheetFooter .count {color:var(--muted);font-size:12px}
#mPlan .toast {
      position:fixed;left:50%;bottom:22px;
      transform: translateX(-50%);
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(15,20,28,.92);
      box-shadow: 0 18px 60px rgba(0,0,0,.55);
      display:none;
      align-items:center;gap:10px;
      color:rgba(233,238,247,.90);
      z-index:80;
      max-width:min(720px, calc(100% - 24px));
    }
#mPlan .toast[data-show="true"] {display:flex}
#mPlan .toast .ok {
      width:9px;height:9px;border-radius:99px;background: var(--lime);
      box-shadow: 0 0 0 4px rgba(104,254,29,.10);
      flex:0 0 auto;
    }
#mPlan .toast .msg {font-size:13px;line-height:1.35}
#mPlan .helper {
      margin-top:12px;
      display:flex;gap:10px;flex-wrap:wrap;
      color:var(--muted2);
      font-size:12px;
      align-items:center;
    }
#mPlan .helper a {color:rgba(233,238,247,.85);text-decoration:none;border-bottom:1px dashed rgba(255,255,255,.28)}
#mPlan .helper a:hover {border-bottom-color: rgba(104,254,29,.65)}
